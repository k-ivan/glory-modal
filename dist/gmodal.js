/*! Glory-modal plugin v2.1.1 | MIT License | https://github.com/k-ivan/glory-modal */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("Gmodal",[],e):"object"==typeof exports?exports.Gmodal=e():t.Gmodal=e()}(window,(function(){return function(t){var e={};function i(o){if(e[o])return e[o].exports;var n=e[o]={i:o,l:!1,exports:{}};return t[o].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=t,i.c=e,i.d=function(t,e,o){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(o,n,function(e){return t[e]}.bind(null,n));return o},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,i){i(1),t.exports=i(2)},function(t,e,i){},function(t,e,i){"use strict";function o(){return(o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o])}return t}).apply(this,arguments)}i.r(e);var n={checkScrollbar:function(){return window.innerWidth>document.documentElement.clientWidth},getScrollbarWidth:function(){var t=document.createElement("div");t.style.cssText="\n      width: 100px;\n      height: 100px;\n      overflow: scroll;\n      position: absolute;\n      top: -9999px;\n    ",document.body.appendChild(t);var e=t.offsetWidth-t.clientWidth;return document.body.removeChild(t),e},isVisible:function(t){if("none"===t.style.display)return!1;var e=t.getBoundingClientRect();return e&&e.width>0&&e.height>0},emulateTransitionEnd:function(t,e){void 0===e&&(e=150);var i=!1,o=this.transitionEnd();t.addEventListener(o,(function t(e){this.removeEventListener(e.type,t),i=!0}));setTimeout((function(){if(!i){var e=document.createEvent("HTMLEvents");e.initEvent(o,!1,!1),t.dispatchEvent(e)}}),e)},transitionEnd:function(){var t={transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"mozTransitionEnd"},e=document.documentElement;for(var i in t)if(void 0!==e.style[i])return t[i];return!1},getTransitionDurationFromElement:function(t){if(!t)return 0;var e=window.getComputedStyle(t)["transition-duration"],i=window.getComputedStyle(t)["transition-delay"],o=parseFloat(e),n=parseFloat(i);return o||n?(e=e.split(",")[0],i=i.split(",")[0],1e3*(parseFloat(e)+parseFloat(i))):0},customTrigger:function(t,e,i){var n;void 0===i&&(i={}),"CustomEvent"in window&&"function"==typeof window.CustomEvent?n=new CustomEvent(t,{detail:o({},i)}):(n=document.createEvent("CustomEvent")).initCustomEvent(t,!0,!0,o({},i)),e.dispatchEvent(n)},onceTransitionEnd:function(t,e,i,o){void 0===o&&(o=!1);t.addEventListener(e,(function e(n){n.target===t&&(t.removeEventListener(n.type,e,o),i.call(this,n))}),o)}};function s(){return(s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o])}return t}).apply(this,arguments)}function a(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var r,l,d,c=".gmodal__container",h=".gmodal__dialog",u='[data-gmodal="dismiss"]',m="gmodal-open",_="is-shown",f="is-hidden",p="has-animate",b="gmodal-backdrop",v={stickySelectors:[],animation:!0,backdrop:!0,closeBackdrop:!0,keyboard:!0},g=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden])","iframe","object","embed","[contenteditable]",'[tabindex]:not([tabindex^="-"])'].join(","),y=function(){function t(t,e){return void 0===e&&(e={}),!!t&&(this._modal="string"==typeof t?document.querySelector(t):t,this._modal instanceof Element&&(this._modal.instance?this._modal.instance:(this._modal.instance=this,this._modal.tabIndex="-1",this._isOpen=!1,this._isTransitiong=!1,this._settings=s({},v,e),this._transitionEndEvent=n.transitionEnd(),void this._init())))}var e,i,o,r=t.prototype;return r._init=function(){this._body=document.body,this._modalContainer=this._modal.querySelector(c),this._modalDialog=this._modal.querySelector(h),this._modalDismiss=Array.prototype.slice.call(this._modal.querySelectorAll(u)),this._scrollbarWidth=0,this._settings.animation&&this._modal.classList.add(p),this._observerCallback=this._observerCallback.bind(this),this._observer=new MutationObserver(this._observerCallback),this._observer.observe(this._modalDialog,{childList:!0,subtree:!0,attributes:!0}),this._attachEvents()},r._observerCallback=function(t){var e=t[0];(e.addedNodes.length||e.removedNodes.length||"attributes"===e.type)&&this._focusable()},r._stickySelectorsArray=function(){return Array.isArray(this._settings.stickySelectors)?this._settings.stickySelectors.reduce((function(t,e){var i=Array.prototype.slice.call(document.querySelectorAll(e));return t.push.apply(t,i),t}),[]):[]},r._attachEvents=function(){var t=this;this._closeHandler=function(e){e.preventDefault(),e.stopPropagation(),t.close()},this._clickModal=function(e){t._modalDialog.contains(e.target)||t.close()},this._modalDismiss.forEach((function(e){e.addEventListener("click",t._closeHandler)})),this._settings.closeBackdrop&&this._modal.addEventListener("click",this._clickModal),this._settings.keyboard&&(this._keyHandler=this._keyHandler.bind(this),this._modal.addEventListener("keydown",this._keyHandler))},r._dettachEvents=function(){var t=this;this._settings.closeBackdrop&&this._modal.removeEventListener("click",this._clickModal),this._modalDismiss.forEach((function(e){e.removeEventListener("click",t._closeHandler)})),this._settings.keyboard&&this._modal.removeEventListener("keydown",this._keyHandler)},r._focusable=function(){this._focusableEls=Array.prototype.slice.call(this._modal.querySelectorAll(g)).filter((function(t){return n.isVisible(t)})),this._focusableElFirst=this._focusableEls[0],this._focusableElLast=this._focusableEls[this._focusableEls.length-1]},r._keyHandler=function(t){var e=this;switch(t.which){case 9:if(0===this._focusableEls.length){t.preventDefault();break}t.shiftKey?document.activeElement!==e._focusableElFirst&&document.activeElement!==e._modal||(t.preventDefault(),e._focusableElLast.focus()):document.activeElement===e._focusableElLast&&(t.preventDefault(),e._focusableElFirst.focus());break;case 27:t.stopPropagation(),this.close()}},r._createBackdrop=function(){var t=document.createElement("div");return t.className=b,this._settings.animation&&(t.className+=" "+p),document.body.appendChild(t),t},r._setScrollOffset=function(){var t=this;if(this._hasScrollbar){this._scrollbarWidth=n.getScrollbarWidth();var e=this._body.style.paddingRight,i=parseFloat(getComputedStyle(this._body).paddingRight);e&&this._body.setAttribute("data-gmodal-padding",e),this._body.style.paddingRight=i+this._scrollbarWidth+"px",this._stickySelectorsArray().forEach((function(e){var i=e.style.marginRight,o=parseFloat(getComputedStyle(e).marginRight);i&&e.setAttribute("data-gmodal-margin",i),e.style.marginRight=o+t._scrollbarWidth+"px"}))}},r._resetScrollOffset=function(){this._hasScrollbar&&(this._body.style.paddingRight=this._body.getAttribute("data-gmodal-padding")||"",this._body.removeAttribute("data-gmodal-padding"),this._stickySelectorsArray().forEach((function(t){t.style.marginRight=t.getAttribute("data-gmodal-margin")||"",t.removeAttribute("data-gmodal-margin")})))},r._adjustModal=function(){this._scrollbarWidth=n.getScrollbarWidth(),this._modal.style.overflow="hidden",this._modal.style.marginRight=this._scrollbarWidth+"px"},r._resetAdjustModal=function(){this._modal.style.overflow="",this._modal.style.marginRight=""},r._hideBackdrop=function(){var t=this;if(this._backdrop)if(this._backdrop.classList.remove(_),this._settings.animation){var e=n.getTransitionDurationFromElement(this._backdrop);n.onceTransitionEnd(this._backdrop,this._transitionEndEvent,(function(){t._backdrop.parentNode&&t._backdrop.parentNode.removeChild(t._backdrop)})),n.emulateTransitionEnd(this._backdrop,e)}else this._backdrop.parentNode&&this._backdrop.parentNode.removeChild(this._backdrop)},r._hideModal=function(){if(1===this.modalsLength&&(this._body.classList.remove(m),this._resetScrollOffset()),this._modal.style.display="",this._isTransitiong=!1,this.modalsLength){var e=t.modals[this.modalsLength-1].focusEl;setTimeout((function(){null==e||e.focus()}),0)}(t.modals.pop(),this.modalsLength)&&t.modals[this.modalsLength-1].item.element.classList.remove(f);this._isOpen&&n.customTrigger("gmodal:close",this._modal),this._isOpen=!1},r.open=function(){var e=this;if(this._modal&&!this._isOpen&&!this._isTransitiong){this._isOpen=!0,this._focusableSave=document.activeElement,this.modalsLength||(this._hasScrollbar=n.checkScrollbar(),this._body.classList.add(m),this._setScrollOffset(),this._settings.backdrop&&(this._backdrop=this._createBackdrop(this))),n.customTrigger("gmodal:beforeopen",this._modal),this._modal.style.display="block",this._isTransitiong=!0,this._modal.scrollTop=0,this.modalsLength&&t.modals.forEach((function(t){t.item.element.classList.add(f)})),t.modals.push({item:this._modal.instance,focusEl:this._focusableSave}),setTimeout((function(){e._backdrop&&e._backdrop.classList.add(_),e._modal.classList.add(_)}),20);var i=function(){e._isTransitiong=!1,e._focusable(),e._modal.focus(),n.customTrigger("gmodal:open",e._modal)};if(this._settings.animation){this._adjustModal();var o=n.getTransitionDurationFromElement(this._modalContainer);n.onceTransitionEnd(this._modalContainer,this._transitionEndEvent,(function(){e._resetAdjustModal(),i()})),n.emulateTransitionEnd(this._modalContainer,o)}else i()}},r.close=function(t){if(void 0===t&&(t=!1),this._modal&&this._isOpen&&!this._isTransitiong)if(n.customTrigger("gmodal:beforeclose",this._modal),this._modal.classList.remove(_),this._hideBackdrop(),this._isTransitiong=!0,this._settings.animation&&!t){var e=n.getTransitionDurationFromElement(this._modalContainer);n.onceTransitionEnd(this._modalContainer,this._transitionEndEvent,this._hideModal.bind(this)),n.emulateTransitionEnd(this._modalContainer,e)}else this._hideModal()},t.closeAll=function(){if(this.modals.length){var t=!1,e=this.modals[0].item._hasScrollbar;this.modals.slice().reverse().forEach((function(i,o){0===o?i.item._hasScrollbar=e:t=!0,i.item.close(t)}))}},r.destroy=function(){var t=this;this._modal&&(this._observer&&this._observer.disconnect(),this._backdrop&&this._backdrop.parentNode&&this._backdrop.parentNode.removeChild(this._backdrop),this._hideModal(),this._modal.classList.remove(p,_),this._dettachEvents(),delete this._modal.instance,Object.keys(this).forEach((function(e){delete t[e]})))},e=t,(i=[{key:"element",get:function(){return this._modal}},{key:"modalsLength",get:function(){return t.modals.length}}])&&a(e.prototype,i),o&&a(e,o),t}();d=[],(l="modals")in(r=y)?Object.defineProperty(r,l,{value:d,enumerable:!0,configurable:!0,writable:!0}):r[l]=d;e.default=y}]).default}));